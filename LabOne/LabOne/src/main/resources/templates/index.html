<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Smart Phones Order Form</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <script>
        function updateModels() {
            var brand = document.getElementById("brand").value;
            var model = document.getElementById("model");
            model.innerHTML = ""; // Clear previous options

            if (brand === "iPhone") {
                addOption(model, "iPhone XR", "iPhone XR");
                addOption(model, "iPhone 11 Pro", "iPhone 11 Pro");
            } else if (brand === "Samsung") {
                addOption(model, "Samsung Galaxy S20", "Samsung Galaxy S20");
                addOption(model, "Samsung Galaxy 20 Plus", "Samsung Galaxy 20 Plus");
            } else if (brand === "Google") {
                addOption(model, "Pixel 8 Pro", "Pixel 8 Pro");
                addOption(model, "Pixel 9 Pro", "Pixel 9 Pro");
            } else if (brand === "Blackberry") {
                addOption(model, "Evolve X", "Evolve X");
                addOption(model, "Key2", "Key2");
            }
        }

        function addOption(select, value, text) {
            var option = document.createElement("option");
            option.value = value;
            option.text = text;
            select.add(option);
        }

        window.onload = function() {
            updateModels(); // Initialize models when the page loads based on the first brand
        };
    </script>
</head>
<body>
    <div class="container">
        <h1>Smart Phones Order Form</h1>
        <form th:action="@{/submitOrder}" method="post">
            <fieldset>
                <legend>Full Name</legend>
                <div class="row">
                    <div class="column">
                        <label for="firstName">First Name</label>
                        <input type="text" id="firstName" name="firstName" required>
                    </div>
                    <div class="column">
                        <label for="middleName">Middle Name</label>
                        <input type="text" id="middleName" name="middleName">
                    </div>
                    <div class="column">
                        <label for="lastName">Last Name</label>
                        <input type="text" id="lastName" name="lastName" required>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <legend>E-mail</legend>
                <input type="email" id="email" name="email" placeholder="ex: myname@example.com" required>
            </fieldset>

            <fieldset>
                <legend>Contact Number</legend>
                <div class="row">
                    <div class="phone-number">
                        <label for="areaCode">Area Code</label>
                        <input type="text" id="areaCode" name="areaCode" maxlength="3" pattern="\d{3}" required>
                    </div>
                    <div class="phone-number">
                        <label for="phoneNumber">Phone Number</label>
                        <input type="text" id="phoneNumber" name="phoneNumber" maxlength="7" pattern="\d{7}" required>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <legend>Billing Address</legend>
                <label for="streetAddress">Street Address</label>
                <input type="text" id="streetAddress" name="streetAddress">

                <label for="streetAddress2">Street Address Line 2 (Optional)</label>
                <input type="text" id="streetAddress2" name="streetAddress2">

                <div class="row">
                    <div class="column">
                        <label for="city">City</label>
                        <input type="text" id="city" name="city" required>
                    </div>
                    <div class="column">
                        <label for="state">State / Province</label>
                        <input type="text" id="state" name="state" required>
                    </div>
                    <div class="column">
                        <label for="zip">Postal / Zip Code</label>
                        <input type="text" id="zip" name="zip" required>
                    </div>
                </div>

                <label for="country">Country</label>
                <select id="country" name="country" required>
                    <option value="Canada">Canada</option>
                    <option value="United States">United States</option>
                </select>
            </fieldset>

            <fieldset>
                <legend>Product Details</legend>

                <label for="productNumber">Product #</label>
                <input type="text" id="productNumber" name="productNumber" required>

                <label for="brand">Phone Brand</label>
                <select id="brand" name="brand" required onchange="updateModels()">
                    <option value="iPhone">iPhone</option>
                    <option value="Samsung">Samsung</option>
                    <option value="Google">Google</option>
                    <option value="Blackberry">Blackberry</option>
                </select>

                <label for="model">Phone Model</label>
                <select id="model" name="model" required>
                    <!-- Phone models will be dynamically populated based on brand selection -->
                </select>

                <label for="quantity">Quantity</label>
                <input type="number" id="quantity" name="quantity" min="1" required>
            </fieldset>

            <button type="submit">Submit Order</button>
        </form>
    </div>
</body>
</html>
